---
layout: topic
title: Data visualisation with R 
minutes: 1h
---

```{r, echo=FALSE, purl=FALSE}
knitr::opts_chunk$set(results='hide', fig.path='img/r-lesson-')
```
This is an R lesson on data visualisation.

#### Disclaimer

We will here using the functions of ggplot2.....



> ## Learning Objectives
>
> * Visualise some of the mammals data from Figshare (surveys.csv)
> * Understand how to plot these data using R ggplot2 package functions. For more details on using ggplot2 see <http://docs.ggplot2.org/current/>.
> * Building setp by step complex lotting command with ggplot2 package


### Setting up the R environment

We're going to be using a data visualization package called **ggplot2** for drawing the plots.

Recall how to install and load packages. Install the package if you haven't already:

```{r installggplot2, eval=FALSE}
# Only need to do this once
install.packages("ggplot2")
```

Then load it:

```{r loadggplot2, message=FALSE}
library(ggplot2)
```

We will need two more packages to perform the plotting. 
Install and load packages calles magrittr and dplyr 

##### Challenge

Based on what we did to install and load ggplot2 pckages, could you do the same for two others packages we will need

### The surveys dataset sructure

Now let's load the surveys dataset and take a look at the first few rows and it's structure with commands we learned previously.

```{r, eval= FALSE, purl=FALSE}
data(surveys)
head(surveys)
str(surveys)
```

### Plotting with base R
From the Survey data, we will start looking  at the `hindfoot_length` (in millimeters) and `weight` (in grams) of the animals caught in plots.


Lets start by plotting the length versus the weight of the animals.

```{r, eval= FALSE, purl=FALSE}
plot(x=surveys$weight, y=surveys$hindfoot_length)
```
### Plotting with base ggplot2

ggplot2 is a widely used R package that extends R's visualization capabilities. It takes the hassle out of things like creating legends, mapping other variables to scales like color, or faceting plots into small multiples. We'll learn about what all these things mean shortly. To start with, let's produce the same plot as before, but this time using ggplot2's ggplot function. 